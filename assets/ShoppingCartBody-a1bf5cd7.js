import{j as t,u as m,s as n}from"./index-3babd007.js";import{I as l,f as d,u as i}from"./useShopItems-8e942dcf.js";const I="_cartItem_xl4r0_1",p="_cartItemHeader_xl4r0_9",u="_cartItemHeader__img_xl4r0_14",x="_cartItemBody_xl4r0_21",h="_cartItemBody__name_xl4r0_25",y="_cartItemBody__amount_xl4r0_29",B="_cartItemBody__price_xl4r0_32",j="_cartItemFooter_xl4r0_37",o={cartItem:I,cartItemHeader:p,cartItemHeader__img:u,cartItemBody:x,cartItemBody__name:h,cartItemBody__amount:y,cartItemBody__price:B,cartItemFooter:j},C=({imgUrl:e})=>t.jsx("div",{className:o.cartItemHeader,children:t.jsx(l,{style:o.cartItemHeader__img,src:e})}),g=({name:e,amount:r,price:a})=>t.jsxs("div",{className:o.cartItemBody,children:[t.jsxs("span",{className:o.cartItemBody__name,children:[e," ",t.jsxs("span",{className:o.cartItemBody__amount,children:["x",r]})]}),t.jsx("span",{className:o.cartItemBody__price,children:d(a)})]}),S="_discardButton_2y7h8_1",v={discardButton:S},N=({id:e,eventHandler:r})=>t.jsx("button",{className:v.discardButton,onClick:()=>r(e),children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("g",{id:"SVGRepo_bgCarrier"}),t.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",t.jsx("path",{d:"M20.7457 3.32851C20.3552 2.93798 19.722 2.93798 19.3315 3.32851L12.0371 10.6229L4.74275 3.32851C4.35223 2.93798 3.71906 2.93798 3.32854 3.32851C2.93801 3.71903 2.93801 4.3522 3.32854 4.74272L10.6229 12.0371L3.32856 19.3314C2.93803 19.722 2.93803 20.3551 3.32856 20.7457C3.71908 21.1362 4.35225 21.1362 4.74277 20.7457L12.0371 13.4513L19.3315 20.7457C19.722 21.1362 20.3552 21.1362 20.7457 20.7457C21.1362 20.3551 21.1362 19.722 20.7457 19.3315L13.4513 12.0371L20.7457 4.74272C21.1362 4.3522 21.1362 3.71903 20.7457 3.32851Z"})," "]})]})}),L=({id:e,amount:r,price:a})=>{const c=m(s=>s.removeFromCart);return t.jsxs("div",{className:o.cartItemFooter,children:[t.jsx("span",{className:o.cartItemFooter__totalPrice,children:d(r*a)}),t.jsx(N,{id:e,eventHandler:c})]})},H=({id:e,name:r,price:a,imgUrl:c,amount:s})=>t.jsxs("div",{className:o.cartItem,children:[t.jsx(C,{imgUrl:c}),t.jsx(g,{name:r,price:a,amount:s}),t.jsx(L,{id:e,price:a,amount:s})]}),F=()=>{const{cartItems:e}=m(),{getShopItem:r}=i();let a=[];return e.map(c=>{const s=r(c.id);if(s)return a.push({...s,amount:c.amount})}),a},f=()=>{const{cartItems:e}=m(),{getShopItem:r}=i();return e.reduce((c,s)=>{var _;return c+s.amount*(((_=r(s.id))==null?void 0:_.price)||0)},0)},w=()=>{const e=F(),r=f();return{cartItems:e,cartTotal:r}},T=({})=>{const{cartItems:e,cartTotal:r}=w();return t.jsxs("div",{className:n.cartBody,children:[t.jsx("div",{className:n.cartBody__items,children:e.map(a=>t.jsx(H,{...a},a.id))}),t.jsxs("div",{className:n.cartBody__total,children:["Total: ",d(r)]})]})};export{T as default};
